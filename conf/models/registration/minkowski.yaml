models:
    MinkUNet_Fragment:
        class: minkowski.MinkowskiFragment
        conv_type: "SPARSE"
        loss_mode: "match"
        down_conv:
            module_name: SimpleBlockDown
            dimension: 3
            bn_momentum: 0.05
            down_conv_nn:
                [
                    [FEAT, 32],
                    [32, 64],
                    [64, 128],
                    [128, 256]
                ]
            kernel_size: [5, 3, 3, 3]
            stride: [1, 2, 2, 2]
            dilation: [1, 1, 1, 1]
        up_conv:
            module_name: SimpleBlockUp
            dimension: 3
            bn_momentum: 0.05
            up_conv_nn:
                [
                    [256, 64],
                    [64 + 128, 64],
                    [64 + 64, 64],
                    [64 + 32, 32]
                ]
            kernel_size: [3, 3, 3, 1]
            stride: [2, 2, 2, 1]
            dilation: [1, 1, 1, 1]
        normalize_feature: True
        metric_loss:
          class: "ContrastiveHardestNegativeLoss"
          params:
            pos_margin: 0.1
            neg_margin: 2
            power: 1


    Res16UNet34A_0:
        class: minkowski.Minkowski_Baseline_Model_Fragment
        conv_type: "SPARSE"
        model_name: "Res16UNet14A"
        feature_dimension: 1
        out_channels: 32
        D: 3
        mlp_cls:
            nn: [32]
        num_pos_pairs: 1024
        normalize_feature: True
        metric_loss:
          class: "ContrastiveLoss"
          params:
            pos_margin: 0.1
            neg_margin: 1.4
            power: 1
        miner:
          class: "BatchHardMiner"

    Res16UNet34A_1:
        class: minkowski.Minkowski_Baseline_Model_Fragment
        conv_type: "SPARSE"
        model_name: "Res16UNet14A"
        feature_dimension: 1
        out_channels: 32
        D: 3
        mlp_cls:
            nn: [32]
        normalize_feature: True
        metric_loss:
          class: "BatchHardContrastiveLoss"
          params:
            pos_thresh: 0.1
            neg_thresh: 1.4
            min_dist: 0.2
            num_pos: 1024
            num_hn_samples: 256
            pos_thresh: 0.1
            neg_thresh: 1.4


    Res16UNet32B:
        class: minkowski.Minkowski_Baseline_Model_Fragment
        conv_type: "SPARSE"
        model_name: "Res16UNet32B"
        loss_mode: "match"
        conv1_kernel_size: 5
        out_channels: 32
        D: 3
        normalize_feature: True
        metric_loss:
          class: "ContrastiveHardestNegativeLoss"
          params:
            num_pos: 1024
            num_hn_samples: 256
            pos_thresh: 0.1
            neg_thresh: 1.4

    Res16UNet34A:
        class: minkowski.Minkowski_Baseline_Model_Fragment
        conv_type: "SPARSE"
        model_name: "Res16UNet14A"

        loss_mode: "match"
        conv1_kernel_size: 5
        out_channels: 32
        D: 3

        normalize_feature: True
        metric_loss:
          class: "ContrastiveHardestNegativeLoss"
          params:
            num_pos: 1024
            num_hn_samples: 256
            pos_thresh: 0.1
            neg_thresh: 1.4


    # Not Working
    ResUNetBN2C:
        class: minkowski.Minkowski_Baseline_Model_Fragment
        conv_type: "SPARSE"
        model_name: "ResUNetBN2C"
        in_channels: 1
        conv1_kernel_size: 5
        out_channels: 32
        D: 3
        mlp_cls:
          nn: [32]
        num_pos_pairs: 1024
        normalize_feature: True
        metric_loss:
          class: "ContrastiveLoss"
          params:
            pos_margin: 0.1
            neg_margin: 1.4
            power: 1
        miner:
          class: "BatchHardMiner"

    Res16UNet34B:
      # to big...
        class: minkowski.Minkowski_Baseline_Model_Fragment
        conv_type: "SPARSE"
        model_name: "Res16UNet14B"
        loss_mode: "match"
        conv1_kernel_size: 5
        out_channels: 32
        D: 3
        normalize_feature: True
        metric_loss:
          class: "ContrastiveHardestNegativeLoss"
          params:
            num_pos: 1024
            num_hn_samples: 256
            pos_thresh: 0.1
            neg_thresh: 1.4
